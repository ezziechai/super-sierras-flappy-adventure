enum ActionKind {
    Walking,
    Idle,
    Jumping
}
namespace SpriteKind {
    export const Gap = SpriteKind.create()
}
controller.anyButton.onEvent(ControllerButtonEvent.Pressed, function () {
    sierra.vy = -100
    animation.setAction(sierra, ActionKind.Jumping)
    effect = effects2._pickRandom()
    if (effect == "rings") {
        sierra.startEffect(effects.rings, 1000)
    } else {
        if (effect == "spray") {
            sierra.startEffect(effects.spray, 1000)
        } else {
            sierra.startEffect(effects.disintegrate, 1000)
        }
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    game.over(false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Gap, function (sierra, gap) {
    info.changeScoreBy(1)
})
let bottomProjectile: Sprite = null
let topProjectile: Sprite = null
let gapSprite: Sprite = null
let gapImage: Image = null
let bottomImage: Image = null
let topImage: Image = null
let gapNumber = 0
let effect = ""
let sierra: Sprite = null
let effects2: string[] = []
// All the images for animating our duck.
let sierraAnimationFrames = [
img`
    . . . . . . . . . . . . . . . . 
    . . . . . f f f f f f . . . . . 
    . . . f f e e e e f 2 f . . . . 
    . . f f e e e e f 2 2 2 f . . . 
    . . f e e e f f e e e e f . . . 
    . . f f f f e e 2 2 2 2 e f . . 
    . . f e 2 2 2 f f f f e 2 f . . 
    . f f f f f f f e e e f f f . . 
    . f f e 4 4 e b f 4 4 e e f . . 
    . f e e 4 d 4 1 f d d e f . . . 
    . . f e e e e e d d d f . . . . 
    . . . . f 4 d d e 4 e f . . . . 
    . . . . f e d d e 2 2 f . . . . 
    . . . f f f e e f 5 5 f f . . . 
    . . . f f f f f f f f f f . . . 
    . . . . f f . . . f f f . . . . 
    `,
img`
    . . . . . . f f f f 4 4 f . . . 
    . . . . f f b f 5 4 5 5 4 f . . 
    . . . f b 3 3 e 4 5 5 5 5 f . . 
    . . f b 3 3 3 3 e 4 4 4 e f . . 
    . . f 3 3 3 3 3 3 3 3 3 3 f . . 
    . . f 3 3 3 3 e b 3 e e 3 3 f . 
    . . f 3 3 3 3 f f e e e 3 3 f . 
    . . f b b b b f b f e e e 3 f . 
    . . f b b b b e 1 f 4 4 e f . . 
    . f f b b b b f 4 4 4 4 f . . . 
    . f b b b b f f f e e e f . . . 
    . . f b b f 4 4 e d d d f . . . 
    . . . f f e 4 4 e d d d f . . . 
    . . . . f b e e b d b d b f . . 
    . . . . f f d 1 d 1 d 1 f f . . 
    . . . . . . f f b b f f . . . . 
    `,
img`
    ........................
    ........................
    ........................
    ........................
    .........fffff..........
    .......ffb1111ff........
    ......fb1111111bf.......
    ......f111111111f.......
    .....ffff1111111df......
    ....fb111c1dd111df......
    ....ffb1b1fdcf11bf......
    .....ffbfbfb11111f......
    ......ffffcfdb1b1f......
    .......fcccfcfbfbf......
    ........ffffffffff......
    .........ffffff.........
    .........ffffff.........
    .....f..fffffff.........
    .....fffffffff..........
    ......fffffff...........
    ........................
    ........................
    ........................
    ........................
    `,
img`
    . f f f . f f f f f . . . . 
    f f f f f c c c c f f . . . 
    f f f f b c c c c c c f . . 
    f f f c 3 c c c c c c f . . 
    . f 3 3 c c c c c c c c f . 
    . f f f c c c c c 4 c c f . 
    . f f f f c c c 4 4 e f f . 
    . f f 4 4 f b f 4 4 e f f . 
    . . f 4 d 4 1 f d d f f . . 
    . . f f f 4 d d d d f . . . 
    . . . f e e 4 4 4 e f . . . 
    . . . 4 d d e 3 3 3 f . . . 
    . . . e d d e 3 3 3 f . . . 
    . . . f e e f 6 6 6 f . . . 
    . . . . f f f f f f . . . . 
    . . . . . f f f . . . . . . 
    `,
img`
    . . . . . . . . . . b 5 b . . . 
    . . . . . . . . . b 5 b . . . . 
    . . . . . . b b b b b b . . . . 
    . . . . . b b 5 5 5 5 5 b . . . 
    . . . . b b 5 d 1 f 5 d 4 c . . 
    . . . . b 5 5 1 f f d d 4 4 4 b 
    . . . . b 5 5 d f b 4 4 4 4 b . 
    . . . b d 5 5 5 5 4 4 4 4 b . . 
    . b b d d d 5 5 5 5 5 5 5 b . . 
    b d d d b b b 5 5 5 5 5 5 5 b . 
    c d d b 5 5 d c 5 5 5 5 5 5 b . 
    c b b d 5 d c d 5 5 5 5 5 5 b . 
    c b 5 5 b c d d 5 5 5 5 5 5 b . 
    b b c c c d d d 5 5 5 5 5 d b . 
    . . . . c c d d d 5 5 5 b b . . 
    . . . . . . c c c c c b b . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . c c c c . . . . 
    . . . . . . c c 5 5 5 5 c c . . 
    . . . . . c 5 5 5 5 5 5 5 5 c . 
    . . . . c 5 5 5 f 1 5 5 5 5 5 c 
    . . . c 5 5 5 5 f f 5 5 5 5 5 c 
    . . . c 5 5 5 5 5 5 5 5 5 5 5 c 
    . . c d 5 5 5 5 5 5 b 1 b b c c 
    . . c d d d 5 5 5 5 5 3 3 3 5 c 
    . . c d d d 5 5 5 5 5 5 5 5 b . 
    . c c d d d d b 5 5 c b b c . . 
    c d c d d d d b b 5 5 c b b c . 
    c d d d d d d d d c c c c c c . 
    . c d d d b 5 5 d c c c c . . . 
    . . c c c b 5 5 b c c c c c . . 
    . . . . c b 5 5 d c b b b c . . 
    `
]
// All the images for our top obstacles.
let obstacleTopImgs = [img`
    .....ffffffffffffff.....
    ....ffffffffffffffff....
    ...ffffffffffffffffff...
    ..ffffffffffffffffffff..
    ...ffffffffffffffffff...
    ......ffffffffffff......
    ......ffffffffffff......
    ......ffffffffffff......
    ......ffffffffffff......
    ......ffff6666ffff......
    ......fff666666fff......
    ......ff66666666ff......
    ......666666666666......
    ......a6666666666a......
    .......a66666666a.......
    ........a666666a........
    `, img`
    .....6feeeeeeeeeef6.....
    ....6666eeeeeeeee666....
    ...6666666eeee6666666...
    ..6666ee66666666666666..
    ...668ee6668866688666...
    ......ee66eeee66ee......
    ......ee6eeeeee6ce......
    ......eefeeeeeeece......
    ......eecee8eeeece......
    ......eecee8eeeefe......
    ......eecee8eeeefe......
    ......eeeee8eeeefe......
    ......eeeeeeeeeece......
    .....6eeeeeeeeeece6.....
    ....6666eeeeeeeee666....
    ...6666666eeee6666666...
    ..6666ee66666666666666..
    ...668ce6668866688666...
    ......ce66eeee66ee......
    ......eeeeeeeeeeee......
    ......eeeeee8eeeee......
    ......eeeeee8eeeee......
    ......eeeeee8eeeee......
    ......eeeeee8eeeee......
    ......eeeeee8eeeee......
    ......eeeeeeeeeeee......
    ......beeeeeeeeeeb......
    .......beeeeeeeeb.......
    ........beeeeeeb........
    ........................
    ........................
    ........................
    `, img`
    .....6fceeeeeeeeee6.....
    ....6776eeeeeeeee676....
    ...6777666eeeea666776...
    ..67768e677667a7667776..
    ...668ee7768aaa788666...
    ......ee77e9ea77ecee....
    ......ee6ee9aee6eef.....
    ......eeee9eaeeeeef.....
    ......eee111166eeef.....
    ......ee1aa116ceecf.....
    ......ce1aaa11ce9cf.....
    ......ce18ee11c69ff.....
    ......f198e611a99fe.....
    .....6f198e611969f6.....
    ....6771a8e611969676....
    ...6777918e611a697776...
    ..6776e9148c11a6967776..
    ...668ea178c11a698666...
    ......ea178c1196ceee....
    ......ea91c11199cef.....
    ......ee91c161c9cef.....
    ......ee911161cccef.....
    ......eeec1161ccccf.....
    ......eeec1c61ccccf.....
    ......eec91c61cecff.....
    ......fec91ce6cecfe.....
    .....6fec91ce6cecf6.....
    ....6776c91caacec676....
    ...61176c91ca6c6c7776...
    ..6111eec91caccac61776..
    ...6c8eec981accc81166...
    ....cceec9819ccc1e......
    ....cceec9819c11ce......
    ....c.eec96c11cace......
    ....c.eec9cc1ccace......
    ....c.eec911c19afe......
    ....c.eec1ccc19afe......
    ....cccee1cca19afe......
    .....cccc1cc6a1ece......
    .....6ce71c66a19ce6.....
    ....67c661ce6ae1e676....
    ...6776c6916ea9166776...
    ..67766c7916a891667776..
    ...668cec91a669188666...
    ......cec9c1e691ee......
    ......eeecc1e8116e......
    ......ee9cce1117ee......
    ......ee9cc99eeeee......
    ......ee9c9eeeeeee......
    ......e9e9eeeeeeee......
    ......e99eeeeeeeee......
    ......e9eeeeeeeeee......
    ......beeeeeeeeeeb......
    .......beeeeeeeeb.......
    ........beeeeeeb........
    ........................
    `]
// All the images for our bottom obstacles.
let obstacleBottomImgs = [img`
    ........................
    ........................
    ..........bbbb..........
    ........bbddddbb........
    .......bddbbbbddb.......
    ......bdbbddddbbdb......
    .....bdbbdbbbbdbbdb.....
    .....bdbdbddddbdbdb.....
    .....cdbbdbbbbdbbdc.....
    .....cbdbbddddbbdbc.....
    ....bbbbddbbbbddbce.....
    ...b.bbffbddddbccee.....
    ...bbbbeeffcccceee......
    .....bbbbbbeeeeeee......
    .....cebeebbeeeeee......
    .....feebeebeeeeee......
    .....cceebbbbeeeee......
    ......feebbbbeeeee......
    .....6fcebebbbeeee6.....
    ....6776ebebebeee676....
    ...677766bebeb6666776...
    ..67768e6b7bbb77667776..
    ...668ee7b68bb7788666...
    ......ee7beebb77ecee....
    ......ee6beebbe6eef.....
    ......eeeebebebeeef.....
    ......eeeebebebeeef.....
    ......eeeebebeebecf.....
    ......ceeebebeebecf.....
    ......ceeebebeebeff.....
    ......feeebebeebefe.....
    .....6feeeebbeebef6.....
    ....6776eeebbeebe676....
    ...6777666ebbe6b67776...
    ..6776ee677bb77b667776..
    ...668ee776bb67b88666...
    ......ee77ebbe6bee......
    ......ee6eebbeebce......
    ......eefeebbeebce......
    ......eeceebbeebce......
    ......eeceebbeebfe......
    ......eeceebbeebfe......
    ......eeeeebbeebfe......
    ......eeeeebeeebce......
    .....6eeeeebeeebce6.....
    ....6776eeebeeebe676....
    ...6776666ebee6b66776...
    ..6776ee77bb777b667776..
    ...668ce77b8867788666...
    ......ce77beee67ee......
    ......ce6ebeeee6ee......
    ......ceeebbbeeeee......
    ......fccebbbeecee......
    ......fcccbbbcecce......
    ......fccbbecceccc......
    ......fcbbbecceccc......
    ......fccbbceceecc......
    .....6fccccccccccf6.....
    ....6776ccccccccc676....
    ...6776676cccc6766776...
    ..6776cc77777777667776..
    ...668cc7768867788666...
    ......cc77cccc67cf......
    ......cc6cccccc6cf......
    `, img`
    ........................
    ........................
    ........................
    ........................
    ..........bbbb..........
    ........bbddddbb........
    .......bddbbbbddb.......
    ......bdbbddddbbdb......
    .....bdbbdbbbbdbbdb.....
    .....bdbdbddddbdbdb.....
    .....cdbbdbbbbdbbdc.....
    .....cbdbbddddbbdbc.....
    .....efbddbbbbddbce.....
    .....eeffbddddbccee.....
    .....eeeeffcccceee......
    .....ceeeeeeeeeeee......
    .....ceeeeeeeeeeee......
    .....feeeeeeeeeeee......
    .....cceeeeeeeeeee......
    ......feeeeeeeeeee......
    .....6fceeeeeeeeee6.....
    ....6666eeeeeeeee666....
    ...6666666eeee6666666...
    ..66666e66666666666666..
    ...666ee6666666666666...
    ......ee66eeee66ecee....
    ......ee6eeeeee6eef.....
    ......eeeeeeeeeeeef.....
    ......eeeeeeeeeeeef.....
    ......eeeeeeeeeeecf.....
    ......ceeeeeeeeeecf.....
    ......ceeeeeeeeeeff.....
    ......feeeeeeeeeefe.....
    .....6feeeeeeeeeef6.....
    ....6666eeeeeeeee666....
    ...6666666eeee6666666...
    ..6666ee66666666666666..
    ...666ee6666666666666...
    ......ee66eeee66ee......
    ......ee6eeeeee6ce......
    `, img`
    ........................
    ..........ffff..........
    ........ffffffff........
    .......ffffffffff.......
    ......ffffffffffff......
    .....ffffffffffffff.....
    .....ffffffffffffff.....
    .....ffffffffffffff.....
    .....ffffffffffffff.....
    .....ffffffffffffff.....
    .....ffffffffffffff.....
    .....fffffffffffff......
    .....fffffffffffff......
    .....fffffffffffff......
    .....fffffffffffff......
    .....fffffffffffff......
    ......ffffffffffff......
    .....8ffffffffffff8.....
    ....8888fffffffff888....
    ...888888ffffff888888...
    ..88888f88888888888888..
    ...888ff8888888888888...
    ......ff88ffff88f888....
    ......ff8ffffff8fff.....
    `]
effects2 = ["rings", "disintegrate", "spray"]
scene.setBackgroundColor(9)
info.setScore(0)
sierra = sprites.create(sierraAnimationFrames[0], SpriteKind.Player)
effects.blizzard.startScreenEffect()
game.showLongText("Hello! I'm Sierra!", DialogLayout.Bottom)
game.showLongText("I need to get past the obstacles.", DialogLayout.Bottom)
game.showLongText("Even though I'll morph into different things,", DialogLayout.Bottom)
game.showLongText("please help me do it.", DialogLayout.Bottom)
sierra.ay = 300
let flapAnim = animation.createAnimation(ActionKind.Jumping, 25)
for (let index = 0; index <= sierraAnimationFrames.length; index++) {
    flapAnim.addAnimationFrame(sierraAnimationFrames[index])
}
animation.attachAnimation(sierra, flapAnim)
game.onUpdate(function () {
    if (sierra.bottom > 123 || sierra.top < 0) {
        game.over(false)
    }
})
game.onUpdateInterval(1500, function () {
    gapNumber = randint(0, 2)
    topImage = obstacleTopImgs[gapNumber]
    bottomImage = obstacleBottomImgs[gapNumber]
    gapImage = image.create(2, scene.screenHeight())
    gapImage.fill(1)
    gapSprite = sprites.create(gapImage, SpriteKind.Gap)
    gapSprite.setFlag(SpriteFlag.Invisible, true)
    gapSprite.setFlag(SpriteFlag.Ghost, true)
    gapSprite.vx = -45
    gapSprite.left = scene.screenWidth()
    topProjectile = sprites.createProjectileFromSide(topImage, -45, 0)
    bottomProjectile = sprites.createProjectileFromSide(bottomImage, -45, 0)
    topProjectile.top = 0
    bottomProjectile.bottom = scene.screenHeight()
    gapSprite.setFlag(SpriteFlag.Invisible, false)
})
